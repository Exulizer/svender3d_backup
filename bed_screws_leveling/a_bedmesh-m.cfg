[gcode_macro GENERATE_FULL_MESH]
description: Erstellt ein vollstaendiges Mesh bei Betriebstemperatur und speichert es
gcode:
    {% set BED_TEMP = params.BED_TEMP|default(60)|int %}
    
    # 1. Vorbereitung
    M117 Heize Bett fuer Mesh...
    M140 S{BED_TEMP}        ; Heizung starten
    G28                     ; Homing
    M190 S{BED_TEMP}        ; Warten auf Zieltemperatur (Wichtig f√ºr Ausdehnung!)
    
    # 2. Mesh erstellen
    M117 Erstelle Full Mesh...
    BED_MESH_CLEAR          ; Altes Mesh entfernen
    # Wir speichern es im Profil "default", damit es automatisch geladen wird
    BED_MESH_CALIBRATE PROFILE=default 
    
    # 3. Abschluss
    M117 Mesh fertig.
    G90
    G1 Z10 F3000            ; Kopf anheben
    G1 X5 Y5 F3000          ; Parken
    M140 S0                 ; Heizung aus
    
    # Optional: Automatisch speichern und Neustarten
    # Wenn du das Einkommentierst, startet der Drucker nach dem Messen neu!
    # SAVE_CONFIG